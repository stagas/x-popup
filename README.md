<h1>
x-popup <a href="https://npmjs.org/package/x-popup"><img src="https://img.shields.io/badge/npm-v1.0.0-F00.svg?colorA=000"/></a> <a href="src"><img src="https://img.shields.io/badge/loc-534-FFF.svg?colorA=000"/></a> <a href="https://cdn.jsdelivr.net/npm/x-popup@1.0.0/dist/x-popup.min.js"><img src="https://img.shields.io/badge/brotli-23.9K-333.svg?colorA=000"/></a> <a href="LICENSE"><img src="https://img.shields.io/badge/license-MIT-F0B.svg?colorA=000"/></a>
</h1>

<p></p>

Popup Web Component used for tooltips and context menus

<h4>
<table><tr><td title="Triple click to select and copy paste">
<code>npm i x-popup </code>
</td><td title="Triple click to select and copy paste">
<code>pnpm add x-popup </code>
</td><td title="Triple click to select and copy paste">
<code>yarn add x-popup</code>
</td></tr></table>
</h4>

## Examples

<details id="example$web" title="web" open><summary><span><a href="#example$web">#</a></span>  <code><strong>web</strong></code></summary>  <ul>    <details id="source$web" title="web source code" ><summary><span><a href="#source$web">#</a></span>  <code><strong>view source</strong></code></summary>  <a href="example/web.tsx">example/web.tsx</a>  <p>

```tsx
/** @jsxImportSource sigl */
import $ from 'sigl'

import { filterMap } from 'everyday-utils'
import { Rect } from 'geometrik'
import { SurfaceElement, SurfaceItemElement, SurfaceMoveElement, SurfaceResizeElement } from 'x-surface'
import { PopupElement, PopupSceneLocal } from 'x-popup'

interface ItemElement extends $.Element<ItemElement> {}
@$.element()
class ItemElement extends $(SurfaceItemElement) {
  SurfaceMove = $.element(SurfaceMoveElement)
  SurfaceResize = $.element(SurfaceResizeElement)

  @$.attr() label = $.String

  mounted($: ItemElement['$']) {
    $.render(({ host, surface, SurfaceMove, SurfaceResize }) => (
      <>
        <style>
          {/*css*/ `
          :host {
            box-sizing: border-box;
            border: 2px solid pink;
            display: block;
            position: absolute;
          }

          ${SurfaceMove} {
            background: #067;
            width: 100%;
            height: 20px;
            position: absolute;
          }

          ${SurfaceResize} {
            background: #ba2;
            position: absolute;
            right: 0;
            bottom: 0;
            width: 20px;
            height: 20px;
          }
          `}
        </style>
        <SurfaceMove surface={surface} dest={host} />
        <SurfaceResize surface={surface} dest={host} />
      </>
    ))
  }
}

interface SceneElement extends $.Element<SceneElement> {}
@$.element()
class SceneElement extends HTMLElement {
  Surface = $.element(SurfaceElement)
  Item = $.element(ItemElement)
  Popup = $.element(PopupElement)

  surface?: SurfaceElement
  popupScene = $(this).reduce(({ surface }) => new PopupSceneLocal(surface))

  items = new $.RefSet<ItemElement>([
    { rect: new Rect(0, 0, 100, 100), label: 'one' },
    { rect: new Rect(200, 0, 100, 100), label: 'two' },
  ])

  mounted($: SceneElement['$']) {
    const Popups = $.part(({ Popup, popupScene, surface, items }) =>
      filterMap([x-popup.items], item => item.ref.current)
        .map(el => (
          <Popup
            scene={popupScene}
            surface={surface}
            // placement="nwr"
            dest={el as unknown as SurfaceItemElement}
          >
            {el.label}
          </Popup>
        ))
    )

    $.render(({ Surface, Item, items }) => (
      <>
        <style>
          {/*css*/ `
          :host {
            display: block;
            width: 100%;
            height: 100%;
            position: fixed;
          }

          [part=popups] {
            position: absolute;
            z-index: 2;
            left: 0;
            top: 0;
            width: 100%;
          }`}
        </style>

        <Surface ref={$.ref.surface}>
          {items.map(item => <Item {x-popup.item} />)}
        </Surface>

        <div part="popups">
          <Popups />
        </div>
      </>
    ))
  }
}

const Scene = $.element(SceneElement)

$.render(<Scene />, document.body)
```

</p>
</details></ul></details>

## API

<p>  <details id="PopupElement$62" title="Class" ><summary><span><a href="#PopupElement$62">#</a></span>  <code><strong>PopupElement</strong></code>    </summary>  <a href="src/x-popup.tsx#L75">src/x-popup.tsx#L75</a>  <ul>        <p>  <details id="constructor$63" title="Constructor" ><summary><span><a href="#constructor$63">#</a></span>  <code><strong>constructor</strong></code><em>()</em>    </summary>    <ul>    <p>  <details id="new PopupElement$64" title="ConstructorSignature" ><summary><span><a href="#new PopupElement$64">#</a></span>  <code><strong>new PopupElement</strong></code><em>()</em>    </summary>    <ul><p><a href="#PopupElement$62">PopupElement</a></p>        </ul></details></p>    </ul></details><details id="$$138" title="Property" ><summary><span><a href="#$$138">#</a></span>  <code><strong>$</strong></code>    </summary>  <a href="src/work/stagas/sigl/dist/types/sigl.d.ts#L25">src/work/stagas/sigl/dist/types/sigl.d.ts#L25</a>  <ul><p><span>Context</span>&lt;<a href="#PopupElement$62">PopupElement</a> &amp; <span>JsxContext</span>&lt;<a href="#PopupElement$62">PopupElement</a>&gt; &amp; <span>Omit</span>&lt;{<p>    <details id="ctor$142" title="Parameter" ><summary><span><a href="#ctor$142">#</a></span>  <code><strong>ctor</strong></code>    </summary>    <ul><p><span>Class</span>&lt;<a href="#T$34">T</a>&gt;</p>        </ul></details>  <p><strong></strong>&lt;<span>T</span>&gt;<em>(ctor)</em>  &nbsp;=&gt;  <ul><span>CleanClass</span>&lt;<a href="#T$34">T</a>&gt;</ul></p>  <details id="ctx$157" title="Parameter" ><summary><span><a href="#ctx$157">#</a></span>  <code><strong>ctx</strong></code>    </summary>    <ul><p><a href="#T$49">T</a> | <span>Class</span>&lt;<a href="#T$49">T</a>&gt;</p>        </ul></details>  <p><strong></strong>&lt;<span>T</span>&gt;<em>(ctx)</em>  &nbsp;=&gt;  <ul><span>Wrapper</span>&lt;<a href="#T$49">T</a>&gt;</ul></p></p>} &amp; <span>__module</span> &amp; {<p>  <details id="Boolean$161" title="Property" ><summary><span><a href="#Boolean$161">#</a></span>  <code><strong>Boolean</strong></code>    </summary>  <a href="src/work/stagas/sigl/dist/types/index.d.ts#L9">src/work/stagas/sigl/dist/types/index.d.ts#L9</a>  <ul><p>undefined | boolean</p>        </ul></details><details id="Number$160" title="Property" ><summary><span><a href="#Number$160">#</a></span>  <code><strong>Number</strong></code>    </summary>  <a href="src/work/stagas/sigl/dist/types/index.d.ts#L8">src/work/stagas/sigl/dist/types/index.d.ts#L8</a>  <ul><p>undefined | number</p>        </ul></details><details id="String$159" title="Property" ><summary><span><a href="#String$159">#</a></span>  <code><strong>String</strong></code>    </summary>  <a href="src/work/stagas/sigl/dist/types/index.d.ts#L7">src/work/stagas/sigl/dist/types/index.d.ts#L7</a>  <ul><p>undefined | string</p>        </ul></details></p>}, <code>"transition"</code>&gt;&gt;</p>        </ul></details><details id="center$67" title="Property" ><summary><span><a href="#center$67">#</a></span>  <code><strong>center</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>false</code></span>  </summary>  <a href="src/x-popup.tsx#L78">src/x-popup.tsx#L78</a>  <ul><p>boolean</p>        </ul></details><details id="contents$84" title="Property" ><summary><span><a href="#contents$84">#</a></span>  <code><strong>contents</strong></code>    </summary>  <a href="src/x-popup.tsx#L85">src/x-popup.tsx#L85</a>  <ul><p><span>HTMLDivElement</span></p>        </ul></details><details id="contentsRect$85" title="Property" ><summary><span><a href="#contentsRect$85">#</a></span>  <code><strong>contentsRect</strong></code>    </summary>  <a href="src/x-popup.tsx#L86">src/x-popup.tsx#L86</a>  <ul><p><span>Rect</span></p>        </ul></details><details id="context$162" title="Property" ><summary><span><a href="#context$162">#</a></span>  <code><strong>context</strong></code>    </summary>  <a href="src/work/stagas/sigl/dist/types/sigl.d.ts#L26">src/work/stagas/sigl/dist/types/sigl.d.ts#L26</a>  <ul><p><span>ContextClass</span>&lt;<a href="#PopupElement$62">PopupElement</a> &amp; <span>JsxContext</span>&lt;<a href="#PopupElement$62">PopupElement</a>&gt; &amp; <span>Omit</span>&lt;{<p>    <details id="ctor$166" title="Parameter" ><summary><span><a href="#ctor$166">#</a></span>  <code><strong>ctor</strong></code>    </summary>    <ul><p><span>Class</span>&lt;<a href="#T$34">T</a>&gt;</p>        </ul></details>  <p><strong></strong>&lt;<span>T</span>&gt;<em>(ctor)</em>  &nbsp;=&gt;  <ul><span>CleanClass</span>&lt;<a href="#T$34">T</a>&gt;</ul></p>  <details id="ctx$181" title="Parameter" ><summary><span><a href="#ctx$181">#</a></span>  <code><strong>ctx</strong></code>    </summary>    <ul><p><a href="#T$49">T</a> | <span>Class</span>&lt;<a href="#T$49">T</a>&gt;</p>        </ul></details>  <p><strong></strong>&lt;<span>T</span>&gt;<em>(ctx)</em>  &nbsp;=&gt;  <ul><span>Wrapper</span>&lt;<a href="#T$49">T</a>&gt;</ul></p></p>} &amp; <span>__module</span> &amp; {<p>  <details id="Boolean$185" title="Property" ><summary><span><a href="#Boolean$185">#</a></span>  <code><strong>Boolean</strong></code>    </summary>  <a href="src/work/stagas/sigl/dist/types/index.d.ts#L9">src/work/stagas/sigl/dist/types/index.d.ts#L9</a>  <ul><p>undefined | boolean</p>        </ul></details><details id="Number$184" title="Property" ><summary><span><a href="#Number$184">#</a></span>  <code><strong>Number</strong></code>    </summary>  <a href="src/work/stagas/sigl/dist/types/index.d.ts#L8">src/work/stagas/sigl/dist/types/index.d.ts#L8</a>  <ul><p>undefined | number</p>        </ul></details><details id="String$183" title="Property" ><summary><span><a href="#String$183">#</a></span>  <code><strong>String</strong></code>    </summary>  <a href="src/work/stagas/sigl/dist/types/index.d.ts#L7">src/work/stagas/sigl/dist/types/index.d.ts#L7</a>  <ul><p>undefined | string</p>        </ul></details></p>}, <code>"transition"</code>&gt;&gt;</p>        </ul></details><details id="dest$86" title="Property" ><summary><span><a href="#dest$86">#</a></span>  <code><strong>dest</strong></code>    </summary>  <a href="src/x-popup.tsx#L88">src/x-popup.tsx#L88</a>  <ul><p><span>SurfaceItemElement</span></p>        </ul></details><details id="destRect$87" title="Property" ><summary><span><a href="#destRect$87">#</a></span>  <code><strong>destRect</strong></code>    </summary>  <a href="src/x-popup.tsx#L89">src/x-popup.tsx#L89</a>  <ul><p><span>Rect</span></p>        </ul></details><details id="dispatch$123" title="Property" ><summary><span><a href="#dispatch$123">#</a></span>  <code><strong>dispatch</strong></code>    </summary>  <a href="src/work/stagas/sigl/dist/types/events.d.ts#L4">src/work/stagas/sigl/dist/types/events.d.ts#L4</a>  <ul><p><span>Dispatch</span>&lt;<details id="__type$124" title="Function" ><summary><span><a href="#__type$124">#</a></span>  <em>(name, detail, init)</em>    </summary>    <ul>    <p>    <details id="name$128" title="Parameter" ><summary><span><a href="#name$128">#</a></span>  <code><strong>name</strong></code>    </summary>    <ul><p><span>Event</span> | <span>Narrow</span>&lt;<a href="#K$126">K</a>, string&gt;</p>        </ul></details><details id="detail$129" title="Parameter" ><summary><span><a href="#detail$129">#</a></span>  <code><strong>detail</strong></code>    </summary>    <ul><p><a href="#E$127">E</a></p>        </ul></details><details id="init$130" title="Parameter" ><summary><span><a href="#init$130">#</a></span>  <code><strong>init</strong></code>    </summary>    <ul><p><span>CustomEventInit</span>&lt;any&gt;</p>        </ul></details>  <p><strong></strong>&lt;<span>K</span>, <span>E</span>&gt;<em>(name, detail, init)</em>  &nbsp;=&gt;  <ul>any</ul></p></p>    </ul></details>&gt;</p>        </ul></details><details id="host$137" title="Property" ><summary><span><a href="#host$137">#</a></span>  <code><strong>host</strong></code>    </summary>  <a href="src/work/stagas/sigl/dist/types/sigl.d.ts#L24">src/work/stagas/sigl/dist/types/sigl.d.ts#L24</a>  <ul><p><a href="#PopupElement$62">PopupElement</a></p>        </ul></details><details id="hostMatrixString$92" title="Property" ><summary><span><a href="#hostMatrixString$92">#</a></span>  <code><strong>hostMatrixString</strong></code>    </summary>  <a href="src/x-popup.tsx#L97">src/x-popup.tsx#L97</a>  <ul><p>string</p>        </ul></details><details id="onmounted$135" title="Property" ><summary><span><a href="#onmounted$135">#</a></span>  <code><strong>onmounted</strong></code>    </summary>    <ul><p><span>EventHandler</span>&lt;<a href="#PopupElement$62">PopupElement</a>, <span>CustomEvent</span>&lt;any&gt;&gt;</p>        </ul></details><details id="onunmounted$136" title="Property" ><summary><span><a href="#onunmounted$136">#</a></span>  <code><strong>onunmounted</strong></code>    </summary>    <ul><p><span>EventHandler</span>&lt;<a href="#PopupElement$62">PopupElement</a>, <span>CustomEvent</span>&lt;any&gt;&gt;</p>        </ul></details><details id="placed$66" title="Property" ><summary><span><a href="#placed$66">#</a></span>  <code><strong>placed</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>false</code></span>  </summary>  <a href="src/x-popup.tsx#L77">src/x-popup.tsx#L77</a>  <ul><p>boolean</p>        </ul></details><details id="placement$65" title="Property" ><summary><span><a href="#placement$65">#</a></span>  <code><strong>placement</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>'n'</code></span>  </summary>  <a href="src/x-popup.tsx#L76">src/x-popup.tsx#L76</a>  <ul><p><span>Placement</span></p>        </ul></details><details id="popup$88" title="Property" ><summary><span><a href="#popup$88">#</a></span>  <code><strong>popup</strong></code>    </summary>  <a href="src/x-popup.tsx#L91">src/x-popup.tsx#L91</a>  <ul><p><span>Popup</span></p>        </ul></details><details id="rect$89" title="Property" ><summary><span><a href="#rect$89">#</a></span>  <code><strong>rect</strong></code>    </summary>  <a href="src/x-popup.tsx#L92">src/x-popup.tsx#L92</a>  <ul><p><span>Rect</span></p>        </ul></details><details id="rigid$68" title="Property" ><summary><span><a href="#rigid$68">#</a></span>  <code><strong>rigid</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>false</code></span>  </summary>  <a href="src/x-popup.tsx#L79">src/x-popup.tsx#L79</a>  <ul><p>boolean</p>        </ul></details><details id="scene$83" title="Property" ><summary><span><a href="#scene$83">#</a></span>  <code><strong>scene</strong></code>    </summary>  <a href="src/x-popup.tsx#L83">src/x-popup.tsx#L83</a>  <ul><p><a href="#PopupSceneLocal$18">PopupSceneLocal</a> | <span>PopupSceneWorker</span></p>        </ul></details><details id="setHostStyleTransform$93" title="Property" ><summary><span><a href="#setHostStyleTransform$93">#</a></span>  <code><strong>setHostStyleTransform</strong></code>    </summary>  <a href="src/x-popup.tsx#L98">src/x-popup.tsx#L98</a>  <ul><p><details id="__type$94" title="Function" ><summary><span><a href="#__type$94">#</a></span>  <em>(matrixString)</em>    </summary>    <ul>    <p>    <details id="matrixString$96" title="Parameter" ><summary><span><a href="#matrixString$96">#</a></span>  <code><strong>matrixString</strong></code>    </summary>    <ul><p>string</p>        </ul></details>  <p><strong></strong><em>(matrixString)</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details></p>        </ul></details><details id="surface$82" title="Property" ><summary><span><a href="#surface$82">#</a></span>  <code><strong>surface</strong></code>    </summary>  <a href="src/x-popup.tsx#L82">src/x-popup.tsx#L82</a>  <ul><p><span>SurfaceElement</span></p>        </ul></details><details id="transition$69" title="Property" ><summary><span><a href="#transition$69">#</a></span>  <code><strong>transition</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>SurfaceState.Idle</code></span>  </summary>  <a href="src/x-popup.tsx#L80">src/x-popup.tsx#L80</a>  <ul><p><span>ValuesOf</span>&lt;{<p>  <details id="CenteringItem$73" title="Property" ><summary><span><a href="#CenteringItem$73">#</a></span>  <code><strong>CenteringItem</strong></code>    </summary>  <a href="src/work/stagas/x-surface/dist/types/surface.d.ts#L24">src/work/stagas/x-surface/dist/types/surface.d.ts#L24</a>  <ul><p><code>"surfacecenteringitem"</code></p>        </ul></details><details id="CenteringView$74" title="Property" ><summary><span><a href="#CenteringView$74">#</a></span>  <code><strong>CenteringView</strong></code>    </summary>  <a href="src/work/stagas/x-surface/dist/types/surface.d.ts#L25">src/work/stagas/x-surface/dist/types/surface.d.ts#L25</a>  <ul><p><code>"surfacecenteringview"</code></p>        </ul></details><details id="Connecting$75" title="Property" ><summary><span><a href="#Connecting$75">#</a></span>  <code><strong>Connecting</strong></code>    </summary>  <a href="src/work/stagas/x-surface/dist/types/surface.d.ts#L26">src/work/stagas/x-surface/dist/types/surface.d.ts#L26</a>  <ul><p><code>"surfaceconnecting"</code></p>        </ul></details><details id="FullSize$76" title="Property" ><summary><span><a href="#FullSize$76">#</a></span>  <code><strong>FullSize</strong></code>    </summary>  <a href="src/work/stagas/x-surface/dist/types/surface.d.ts#L27">src/work/stagas/x-surface/dist/types/surface.d.ts#L27</a>  <ul><p><code>"surfacefullsize"</code></p>        </ul></details><details id="Idle$71" title="Property" ><summary><span><a href="#Idle$71">#</a></span>  <code><strong>Idle</strong></code>    </summary>  <a href="src/work/stagas/x-surface/dist/types/surface.d.ts#L22">src/work/stagas/x-surface/dist/types/surface.d.ts#L22</a>  <ul><p><code>"surfaceidle"</code></p>        </ul></details><details id="MinimapPanning$77" title="Property" ><summary><span><a href="#MinimapPanning$77">#</a></span>  <code><strong>MinimapPanning</strong></code>    </summary>  <a href="src/work/stagas/x-surface/dist/types/surface.d.ts#L28">src/work/stagas/x-surface/dist/types/surface.d.ts#L28</a>  <ul><p><code>"surfaceminimappanning"</code></p>        </ul></details><details id="Overlay$72" title="Property" ><summary><span><a href="#Overlay$72">#</a></span>  <code><strong>Overlay</strong></code>    </summary>  <a href="src/work/stagas/x-surface/dist/types/surface.d.ts#L23">src/work/stagas/x-surface/dist/types/surface.d.ts#L23</a>  <ul><p><code>"surfaceoverlay"</code></p>        </ul></details><details id="Panning$78" title="Property" ><summary><span><a href="#Panning$78">#</a></span>  <code><strong>Panning</strong></code>    </summary>  <a href="src/work/stagas/x-surface/dist/types/surface.d.ts#L29">src/work/stagas/x-surface/dist/types/surface.d.ts#L29</a>  <ul><p><code>"surfacepanning"</code></p>        </ul></details><details id="Pinching$79" title="Property" ><summary><span><a href="#Pinching$79">#</a></span>  <code><strong>Pinching</strong></code>    </summary>  <a href="src/work/stagas/x-surface/dist/types/surface.d.ts#L30">src/work/stagas/x-surface/dist/types/surface.d.ts#L30</a>  <ul><p><code>"surfacepinching"</code></p>        </ul></details><details id="Selecting$80" title="Property" ><summary><span><a href="#Selecting$80">#</a></span>  <code><strong>Selecting</strong></code>    </summary>  <a href="src/work/stagas/x-surface/dist/types/surface.d.ts#L31">src/work/stagas/x-surface/dist/types/surface.d.ts#L31</a>  <ul><p><code>"surfaceselecting"</code></p>        </ul></details><details id="Wheeling$81" title="Property" ><summary><span><a href="#Wheeling$81">#</a></span>  <code><strong>Wheeling</strong></code>    </summary>  <a href="src/work/stagas/x-surface/dist/types/surface.d.ts#L32">src/work/stagas/x-surface/dist/types/surface.d.ts#L32</a>  <ul><p><code>"surfacewheeling"</code></p>        </ul></details></p>}&gt;</p>        </ul></details><details id="viewMatrix$90" title="Property" ><summary><span><a href="#viewMatrix$90">#</a></span>  <code><strong>viewMatrix</strong></code>    </summary>  <a href="src/x-popup.tsx#L94">src/x-popup.tsx#L94</a>  <ul><p><span>Matrix</span></p>        </ul></details><details id="viewportRect$91" title="Property" ><summary><span><a href="#viewportRect$91">#</a></span>  <code><strong>viewportRect</strong></code>    </summary>  <a href="src/x-popup.tsx#L95">src/x-popup.tsx#L95</a>  <ul><p><span>Rect</span></p>        </ul></details><details id="created$186" title="Method" ><summary><span><a href="#created$186">#</a></span>  <code><strong>created</strong></code><em>(ctx)</em>    </summary>    <ul>    <p>    <details id="ctx$188" title="Parameter" ><summary><span><a href="#ctx$188">#</a></span>  <code><strong>ctx</strong></code>    </summary>    <ul><p><span>Context</span>&lt;<a href="#PopupElement$62">PopupElement</a> &amp; <span>JsxContext</span>&lt;<a href="#PopupElement$62">PopupElement</a>&gt; &amp; <span>Omit</span>&lt;{<p>    <details id="ctor$192" title="Parameter" ><summary><span><a href="#ctor$192">#</a></span>  <code><strong>ctor</strong></code>    </summary>    <ul><p><span>Class</span>&lt;<a href="#T$34">T</a>&gt;</p>        </ul></details>  <p><strong></strong>&lt;<span>T</span>&gt;<em>(ctor)</em>  &nbsp;=&gt;  <ul><span>CleanClass</span>&lt;<a href="#T$34">T</a>&gt;</ul></p>  <details id="ctx$207" title="Parameter" ><summary><span><a href="#ctx$207">#</a></span>  <code><strong>ctx</strong></code>    </summary>    <ul><p><a href="#T$49">T</a> | <span>Class</span>&lt;<a href="#T$49">T</a>&gt;</p>        </ul></details>  <p><strong></strong>&lt;<span>T</span>&gt;<em>(ctx)</em>  &nbsp;=&gt;  <ul><span>Wrapper</span>&lt;<a href="#T$49">T</a>&gt;</ul></p></p>} &amp; <span>__module</span> &amp; {<p>  <details id="Boolean$211" title="Property" ><summary><span><a href="#Boolean$211">#</a></span>  <code><strong>Boolean</strong></code>    </summary>  <a href="src/work/stagas/sigl/dist/types/index.d.ts#L9">src/work/stagas/sigl/dist/types/index.d.ts#L9</a>  <ul><p>undefined | boolean</p>        </ul></details><details id="Number$210" title="Property" ><summary><span><a href="#Number$210">#</a></span>  <code><strong>Number</strong></code>    </summary>  <a href="src/work/stagas/sigl/dist/types/index.d.ts#L8">src/work/stagas/sigl/dist/types/index.d.ts#L8</a>  <ul><p>undefined | number</p>        </ul></details><details id="String$209" title="Property" ><summary><span><a href="#String$209">#</a></span>  <code><strong>String</strong></code>    </summary>  <a href="src/work/stagas/sigl/dist/types/index.d.ts#L7">src/work/stagas/sigl/dist/types/index.d.ts#L7</a>  <ul><p>undefined | string</p>        </ul></details></p>}, <code>"transition"</code>&gt;&gt;</p>        </ul></details>  <p><strong>created</strong><em>(ctx)</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details><details id="mounted$97" title="Method" ><summary><span><a href="#mounted$97">#</a></span>  <code><strong>mounted</strong></code><em>($)</em>    </summary>  <a href="src/x-popup.tsx#L100">src/x-popup.tsx#L100</a>  <ul>    <p>    <details id="$$99" title="Parameter" ><summary><span><a href="#$$99">#</a></span>  <code><strong>$</strong></code>    </summary>    <ul><p><span>Context</span>&lt;<a href="#PopupElement$62">PopupElement</a> &amp; <span>JsxContext</span>&lt;<a href="#PopupElement$62">PopupElement</a>&gt; &amp; <span>Omit</span>&lt;{<p>    <details id="ctor$103" title="Parameter" ><summary><span><a href="#ctor$103">#</a></span>  <code><strong>ctor</strong></code>    </summary>    <ul><p><span>Class</span>&lt;<a href="#T$34">T</a>&gt;</p>        </ul></details>  <p><strong></strong>&lt;<span>T</span>&gt;<em>(ctor)</em>  &nbsp;=&gt;  <ul><span>CleanClass</span>&lt;<a href="#T$34">T</a>&gt;</ul></p>  <details id="ctx$118" title="Parameter" ><summary><span><a href="#ctx$118">#</a></span>  <code><strong>ctx</strong></code>    </summary>    <ul><p><a href="#T$49">T</a> | <span>Class</span>&lt;<a href="#T$49">T</a>&gt;</p>        </ul></details>  <p><strong></strong>&lt;<span>T</span>&gt;<em>(ctx)</em>  &nbsp;=&gt;  <ul><span>Wrapper</span>&lt;<a href="#T$49">T</a>&gt;</ul></p></p>} &amp; <span>__module</span> &amp; {<p>  <details id="Boolean$122" title="Property" ><summary><span><a href="#Boolean$122">#</a></span>  <code><strong>Boolean</strong></code>    </summary>  <a href="src/work/stagas/sigl/dist/types/index.d.ts#L9">src/work/stagas/sigl/dist/types/index.d.ts#L9</a>  <ul><p>undefined | boolean</p>        </ul></details><details id="Number$121" title="Property" ><summary><span><a href="#Number$121">#</a></span>  <code><strong>Number</strong></code>    </summary>  <a href="src/work/stagas/sigl/dist/types/index.d.ts#L8">src/work/stagas/sigl/dist/types/index.d.ts#L8</a>  <ul><p>undefined | number</p>        </ul></details><details id="String$120" title="Property" ><summary><span><a href="#String$120">#</a></span>  <code><strong>String</strong></code>    </summary>  <a href="src/work/stagas/sigl/dist/types/index.d.ts#L7">src/work/stagas/sigl/dist/types/index.d.ts#L7</a>  <ul><p>undefined | string</p>        </ul></details></p>}, <code>"transition"</code>&gt;&gt;</p>        </ul></details>  <p><strong>mounted</strong><em>($)</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details><details id="on$131" title="Method" ><summary><span><a href="#on$131">#</a></span>  <code><strong>on</strong></code><em>(name)</em>    </summary>    <ul>    <p>    <details id="name$134" title="Parameter" ><summary><span><a href="#name$134">#</a></span>  <code><strong>name</strong></code>    </summary>    <ul><p><a href="#K$133">K</a></p>        </ul></details>  <p><strong>on</strong>&lt;<span>K</span>&gt;<em>(name)</em>  &nbsp;=&gt;  <ul><span>On</span>&lt;<span>Fn</span>&lt;[  <span>EventHandler</span>&lt;<a href="#PopupElement$62">PopupElement</a>, <span>LifecycleEvents</span> &amp; object  [<a href="#K$133">K</a>]&gt;  ], <span>Off</span>&gt;&gt;</ul></p></p>    </ul></details><details id="toJSON$212" title="Method" ><summary><span><a href="#toJSON$212">#</a></span>  <code><strong>toJSON</strong></code><em>()</em>    </summary>    <ul>    <p>      <p><strong>toJSON</strong><em>()</em>  &nbsp;=&gt;  <ul><span>Pick</span>&lt;<a href="#PopupElement$62">PopupElement</a>, keyof     <a href="#PopupElement$62">PopupElement</a>&gt;</ul></p></p>    </ul></details></p></ul></details><details id="PopupSceneLocal$18" title="Class" ><summary><span><a href="#PopupSceneLocal$18">#</a></span>  <code><strong>PopupSceneLocal</strong></code>    </summary>  <a href="src/popup-scene-local.ts#L19">src/popup-scene-local.ts#L19</a>  <ul>        <p>  <details id="constructor$19" title="Constructor" ><summary><span><a href="#constructor$19">#</a></span>  <code><strong>constructor</strong></code><em>(surface)</em>    </summary>  <a href="src/popup-scene-local.ts#L35">src/popup-scene-local.ts#L35</a>  <ul>    <p>  <details id="new PopupSceneLocal$20" title="ConstructorSignature" ><summary><span><a href="#new PopupSceneLocal$20">#</a></span>  <code><strong>new PopupSceneLocal</strong></code><em>()</em>    </summary>    <ul><p><a href="#PopupSceneLocal$18">PopupSceneLocal</a></p>      <p>  <details id="surface$21" title="Parameter" ><summary><span><a href="#surface$21">#</a></span>  <code><strong>surface</strong></code>    </summary>    <ul><p><span>SurfaceElement</span></p>        </ul></details></p>  </ul></details></p>    </ul></details><details id="$$31" title="Property" ><summary><span><a href="#$$31">#</a></span>  <code><strong>$</strong></code>    </summary>  <a href="src/popup-scene-local.ts#L32">src/popup-scene-local.ts#L32</a>  <ul><p><a href="#PopupSceneLocal$18">PopupSceneLocal</a> &amp; <span>ContextClass</span>&lt;<a href="#PopupSceneLocal$18">PopupSceneLocal</a>&gt; &amp; {<p>    <details id="ctor$35" title="Parameter" ><summary><span><a href="#ctor$35">#</a></span>  <code><strong>ctor</strong></code>    </summary>    <ul><p><span>Class</span>&lt;<a href="#T$34">T</a>&gt;</p>        </ul></details>  <p><strong></strong>&lt;<span>T</span>&gt;<em>(ctor)</em>  &nbsp;=&gt;  <ul><span>CleanClass</span>&lt;<a href="#T$34">T</a>&gt;</ul></p>  <details id="ctx$50" title="Parameter" ><summary><span><a href="#ctx$50">#</a></span>  <code><strong>ctx</strong></code>    </summary>    <ul><p><a href="#T$49">T</a> | <span>Class</span>&lt;<a href="#T$49">T</a>&gt;</p>        </ul></details>  <p><strong></strong>&lt;<span>T</span>&gt;<em>(ctx)</em>  &nbsp;=&gt;  <ul><span>Wrapper</span>&lt;<a href="#T$49">T</a>&gt;</ul></p></p>} &amp; <span>__module</span> &amp; {<p>  <details id="Boolean$54" title="Property" ><summary><span><a href="#Boolean$54">#</a></span>  <code><strong>Boolean</strong></code>    </summary>  <a href="src/work/stagas/sigl/dist/types/index.d.ts#L9">src/work/stagas/sigl/dist/types/index.d.ts#L9</a>  <ul><p>undefined | boolean</p>        </ul></details><details id="Number$53" title="Property" ><summary><span><a href="#Number$53">#</a></span>  <code><strong>Number</strong></code>    </summary>  <a href="src/work/stagas/sigl/dist/types/index.d.ts#L8">src/work/stagas/sigl/dist/types/index.d.ts#L8</a>  <ul><p>undefined | number</p>        </ul></details><details id="String$52" title="Property" ><summary><span><a href="#String$52">#</a></span>  <code><strong>String</strong></code>    </summary>  <a href="src/work/stagas/sigl/dist/types/index.d.ts#L7">src/work/stagas/sigl/dist/types/index.d.ts#L7</a>  <ul><p>undefined | string</p>        </ul></details></p>}</p>        </ul></details><details id="context$55" title="Property" ><summary><span><a href="#context$55">#</a></span>  <code><strong>context</strong></code>    </summary>  <a href="src/popup-scene-local.ts#L33">src/popup-scene-local.ts#L33</a>  <ul><p><span>ContextClass</span>&lt;<a href="#PopupSceneLocal$18">PopupSceneLocal</a>&gt;</p>        </ul></details><details id="popups$22" title="Property" ><summary><span><a href="#popups$22">#</a></span>  <code><strong>popups</strong></code>    </summary>  <a href="src/popup-scene-local.ts#L20">src/popup-scene-local.ts#L20</a>  <ul><p><span>SyncedSet</span>&lt;<span>Popup</span>, {<p>  <details id="center$26" title="Property" ><summary><span><a href="#center$26">#</a></span>  <code><strong>center</strong></code>    </summary>  <a href="src/popup-scene-local.ts#L23">src/popup-scene-local.ts#L23</a>  <ul><p>boolean</p>        </ul></details><details id="contentsRectSize$25" title="Property" ><summary><span><a href="#contentsRectSize$25">#</a></span>  <code><strong>contentsRectSize</strong></code>    </summary>  <a href="src/popup-scene-local.ts#L22">src/popup-scene-local.ts#L22</a>  <ul><p><span>Point</span></p>        </ul></details><details id="destRect$24" title="Property" ><summary><span><a href="#destRect$24">#</a></span>  <code><strong>destRect</strong></code>    </summary>  <a href="src/popup-scene-local.ts#L21">src/popup-scene-local.ts#L21</a>  <ul><p><span>Rect</span></p>        </ul></details><details id="originalPlacement$27" title="Property" ><summary><span><a href="#originalPlacement$27">#</a></span>  <code><strong>originalPlacement</strong></code>    </summary>  <a href="src/popup-scene-local.ts#L24">src/popup-scene-local.ts#L24</a>  <ul><p><span>Placement</span></p>        </ul></details></p>}&gt;</p>        </ul></details><details id="remote$28" title="Property" ><summary><span><a href="#remote$28">#</a></span>  <code><strong>remote</strong></code>    </summary>  <a href="src/popup-scene-local.ts#L26">src/popup-scene-local.ts#L26</a>  <ul><p><span>MessagePort</span></p>        </ul></details><details id="surface$56" title="Property" ><summary><span><a href="#surface$56">#</a></span>  <code><strong>surface</strong></code>    </summary>    <ul><p><span>SurfaceElement</span></p>        </ul></details><details id="viewMatrix$30" title="Property" ><summary><span><a href="#viewMatrix$30">#</a></span>  <code><strong>viewMatrix</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>...</code></span>  </summary>  <a href="src/popup-scene-local.ts#L29">src/popup-scene-local.ts#L29</a>  <ul><p><span>Matrix</span></p>        </ul></details><details id="viewportRect$29" title="Property" ><summary><span><a href="#viewportRect$29">#</a></span>  <code><strong>viewportRect</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>...</code></span>  </summary>  <a href="src/popup-scene-local.ts#L28">src/popup-scene-local.ts#L28</a>  <ul><p><span>Rect</span></p>        </ul></details><details id="create$59" title="Method" ><summary><span><a href="#create$59">#</a></span>  <code><strong>create</strong></code><em>(this)</em>    </summary>  <a href="src/popup-scene-local.ts#L44">src/popup-scene-local.ts#L44</a>  <ul>    <p>    <details id="this$61" title="Parameter" ><summary><span><a href="#this$61">#</a></span>  <code><strong>this</strong></code>    </summary>    <ul><p><a href="#PopupSceneLocal$18">PopupSceneLocal</a></p>        </ul></details>  <p><strong>create</strong><em>(this)</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details><details id="destroy$57" title="Method" ><summary><span><a href="#destroy$57">#</a></span>  <code><strong>destroy</strong></code><em>()</em>    </summary>  <a href="src/popup-scene-local.ts#L40">src/popup-scene-local.ts#L40</a>  <ul>    <p>      <p><strong>destroy</strong><em>()</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details></p></ul></details><details id="PopupScene$1" title="Interface" ><summary><span><a href="#PopupScene$1">#</a></span>  <code><strong>PopupScene</strong></code>    </summary>  <a href="src/popup-core.ts#L8">src/popup-core.ts#L8</a>  <ul>        <p>  <details id="popups$2" title="Property" ><summary><span><a href="#popups$2">#</a></span>  <code><strong>popups</strong></code>    </summary>  <a href="src/popup-core.ts#L9">src/popup-core.ts#L9</a>  <ul><p><span>SyncedSet</span>&lt;<span>Popup</span>, any&gt;</p>        </ul></details><details id="remote$3" title="Property" ><summary><span><a href="#remote$3">#</a></span>  <code><strong>remote</strong></code>    </summary>  <a href="src/popup-core.ts#L10">src/popup-core.ts#L10</a>  <ul><p><span>MessagePort</span></p>        </ul></details><details id="viewMatrix$5" title="Property" ><summary><span><a href="#viewMatrix$5">#</a></span>  <code><strong>viewMatrix</strong></code>    </summary>  <a href="src/popup-core.ts#L12">src/popup-core.ts#L12</a>  <ul><p><span>Matrix</span></p>        </ul></details><details id="viewportRect$4" title="Property" ><summary><span><a href="#viewportRect$4">#</a></span>  <code><strong>viewportRect</strong></code>    </summary>  <a href="src/popup-core.ts#L11">src/popup-core.ts#L11</a>  <ul><p><span>Rect</span></p>        </ul></details></p></ul></details><details id="core$6" title="Variable" ><summary><span><a href="#core$6">#</a></span>  <code><strong>core</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>...</code></span>  </summary>  <a href="src/popup-core.ts#L22">src/popup-core.ts#L22</a>  <ul><p>{<p>  <details id="deserialize$14" title="Property" ><summary><span><a href="#deserialize$14">#</a></span>  <code><strong>deserialize</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>...</code></span>  </summary>    <ul><p><details id="__type$15" title="Function" ><summary><span><a href="#__type$15">#</a></span>  <em>(data)</em>    </summary>    <ul>    <p>    <details id="data$17" title="Parameter" ><summary><span><a href="#data$17">#</a></span>  <code><strong>data</strong></code>    </summary>    <ul><p>any</p>        </ul></details>  <p><strong></strong><em>(data)</em>  &nbsp;=&gt;  <ul>any</ul></p></p>    </ul></details></p>        </ul></details><details id="pickFromLocal$8" title="Property" ><summary><span><a href="#pickFromLocal$8">#</a></span>  <code><strong>pickFromLocal</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>...</code></span>  </summary>    <ul><p>keyof     <span>Popup</span>  []</p>        </ul></details><details id="pickFromWorker$9" title="Property" ><summary><span><a href="#pickFromWorker$9">#</a></span>  <code><strong>pickFromWorker</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>...</code></span>  </summary>    <ul><p>keyof     <span>Popup</span>  []</p>        </ul></details><details id="serialize$10" title="Property" ><summary><span><a href="#serialize$10">#</a></span>  <code><strong>serialize</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>...</code></span>  </summary>    <ul><p><details id="__type$11" title="Function" ><summary><span><a href="#__type$11">#</a></span>  <em>(data)</em>    </summary>    <ul>    <p>    <details id="data$13" title="Parameter" ><summary><span><a href="#data$13">#</a></span>  <code><strong>data</strong></code>    </summary>    <ul><p>any</p>        </ul></details>  <p><strong></strong><em>(data)</em>  &nbsp;=&gt;  <ul>any</ul></p></p>    </ul></details></p>        </ul></details></p>}</p>        </ul></details></p>

## Credits

- [everyday-utils](https://npmjs.org/package/everyday-utils) by [stagas](https://github.com/stagas) &ndash; Everyday utilities
- [geometrik](https://npmjs.org/package/geometrik) by [stagas](https://github.com/stagas) &ndash; Geometry classes and utils.
- [json-objectify](https://npmjs.org/package/json-objectify) by [stagas](https://github.com/stagas) &ndash; Like JSON.stringify but without the stringify part.
- [relative-mouse](https://npmjs.org/package/relative-mouse) by [stagas](https://github.com/stagas) &ndash; Get mouse position relative to a DOM element.
- [serialize-whatever](https://npmjs.org/package/serialize-whatever) by [stagas](https://github.com/stagas) &ndash; Serialize and deserialize whatever.
- [sigl](https://npmjs.org/package/sigl) by [stagas](https://github.com/stagas) &ndash; Web framework
- [synced-set](https://npmjs.org/package/synced-set) by [stagas](https://github.com/stagas) &ndash; Synchronize a Set collection of objects across a wire.
- [x-surface](https://npmjs.org/package/x-surface) by [stagas](https://github.com/stagas) &ndash; Infinitely pannable and zoomable HTML surface as a Web Component.

## Contributing

[Fork](https://github.com/stagas/x-popup/fork) or [edit](https://github.dev/stagas/x-popup) and submit a PR.

All contributions are welcome!

## License

<a href="LICENSE">MIT</a> &copy; 2022 [stagas](https://github.com/stagas)
