<h1>
x-popup <a href="https://npmjs.org/package/x-popup"><img src="https://img.shields.io/badge/npm-v0.0.1-F00.svg?colorA=000"/></a> <a href="src"><img src="https://img.shields.io/badge/loc-534-FFF.svg?colorA=000"/></a> <a href="https://cdn.jsdelivr.net/npm/x-popup@0.0.1/dist/x-popup.min.js"><img src="https://img.shields.io/badge/brotli-26.1K-333.svg?colorA=000"/></a> <a href="LICENSE"><img src="https://img.shields.io/badge/license-MIT-F0B.svg?colorA=000"/></a>
</h1>

<p></p>

Popup Web Component used for tooltips and context menus

<h4>
<table><tr><td title="Triple click to select and copy paste">
<code>npm i x-popup </code>
</td><td title="Triple click to select and copy paste">
<code>pnpm add x-popup </code>
</td><td title="Triple click to select and copy paste">
<code>yarn add x-popup</code>
</td></tr></table>
</h4>

## Examples

<details id="example$web" title="web" open><summary><span><a href="#example$web">#</a></span>  <code><strong>web</strong></code></summary>  <ul>    <details id="source$web" title="web source code" ><summary><span><a href="#source$web">#</a></span>  <code><strong>view source</strong></code></summary>  <a href="example/web.tsx">example/web.tsx</a>  <p>

```tsx
/** @jsxImportSource sigl */
import $ from 'sigl'

import { filterMap } from 'everyday-utils'
import { Rect } from 'geometrik'
import { SurfaceElement, SurfaceItemElement, SurfaceMoveElement, SurfaceResizeElement } from 'x-surface'
import { PopupElement, PopupSceneLocal } from 'x-popup'

interface ItemElement extends $.Element<ItemElement> {}
@$.element()
class ItemElement extends $(SurfaceItemElement) {
  SurfaceMove = $.element(SurfaceMoveElement)
  SurfaceResize = $.element(SurfaceResizeElement)

  @$.attr() label = $.String

  mounted($: ItemElement['$']) {
    $.render(({ host, surface, SurfaceMove, SurfaceResize }) => (
      <>
        <style>
          {/*css*/ `
          :host {
            box-sizing: border-box;
            border: 2px solid pink;
            display: block;
            position: absolute;
          }

          ${SurfaceMove} {
            background: #067;
            width: 100%;
            height: 20px;
            position: absolute;
          }

          ${SurfaceResize} {
            background: #ba2;
            position: absolute;
            right: 0;
            bottom: 0;
            width: 20px;
            height: 20px;
          }
          `}
        </style>
        <SurfaceMove surface={surface} dest={host} />
        <SurfaceResize surface={surface} dest={host} />
      </>
    ))
  }
}

interface SceneElement extends $.Element<SceneElement> {}
@$.element()
class SceneElement extends HTMLElement {
  Surface = $.element(SurfaceElement)
  Item = $.element(ItemElement)
  Popup = $.element(PopupElement)

  surface?: SurfaceElement
  popupScene = $(this).reduce(({ surface }) => new PopupSceneLocal(surface))

  items = new $.RefSet<ItemElement>([
    { rect: new Rect(0, 0, 100, 100), label: 'one' },
    { rect: new Rect(200, 0, 100, 100), label: 'two' },
  ])

  mounted($: SceneElement['$']) {
    const Popups = $.part(({ Popup, popupScene, surface, items }) =>
      filterMap([x-popup.items], item => item.ref.current)
        .map(el => (
          <Popup
            scene={popupScene}
            surface={surface}
            // placement="nwr"
            dest={el as unknown as SurfaceItemElement}
          >
            {el.label}
          </Popup>
        ))
    )

    $.render(({ Surface, Item, items }) => (
      <>
        <style>
          {/*css*/ `
          :host {
            display: block;
            width: 100%;
            height: 100%;
            position: fixed;
          }

          [part=popups] {
            position: absolute;
            z-index: 2;
            left: 0;
            top: 0;
            width: 100%;
          }`}
        </style>

        <Surface ref={$.ref.surface}>
          {items.map(item => <Item {x-popup.item} />)}
        </Surface>

        <div part="popups">
          <Popups />
        </div>
      </>
    ))
  }
}

const Scene = $.element(SceneElement)

$.render(<Scene />, document.body)
```

</p>
</details></ul></details>

## API

<p>  <details id="Popup$87" title="Class" ><summary><span><a href="#Popup$87">#</a></span>  <code><strong>Popup</strong></code>    </summary>  <a href="src/popup.ts#L11">src/popup.ts#L11</a>  <ul>        <p>  <details id="constructor$91" title="Constructor" ><summary><span><a href="#constructor$91">#</a></span>  <code><strong>constructor</strong></code><em>(data)</em>    </summary>  <a href="src/popup.ts#L48">src/popup.ts#L48</a>  <ul>    <p>  <details id="new Popup$92" title="ConstructorSignature" ><summary><span><a href="#new Popup$92">#</a></span>  <code><strong>new Popup</strong></code><em>()</em>    </summary>    <ul><p><a href="#Popup$87">Popup</a></p>      <p>  <details id="data$93" title="Parameter" ><summary><span><a href="#data$93">#</a></span>  <code><strong>data</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>{}</code></span>  </summary>    <ul><p><span>Partial</span>&lt;<a href="#Popup$87">Popup</a>&gt;</p>        </ul></details></p>  </ul></details></p>    </ul></details><details id="$$104" title="Property" ><summary><span><a href="#$$104">#</a></span>  <code><strong>$</strong></code>    </summary>  <a href="src/popup.ts#L33">src/popup.ts#L33</a>  <ul><p><span>Context</span>&lt;<a href="#Popup$87">Popup</a>&gt;</p>        </ul></details><details id="center$101" title="Property" ><summary><span><a href="#center$101">#</a></span>  <code><strong>center</strong></code>    </summary>  <a href="src/popup.ts#L28">src/popup.ts#L28</a>  <ul><p>boolean</p>        </ul></details><details id="collisions$111" title="Property" ><summary><span><a href="#collisions$111">#</a></span>  <code><strong>collisions</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>...</code></span>  </summary>  <a href="src/popup.ts#L42">src/popup.ts#L42</a>  <ul><p><span>Map</span>&lt;<a href="#Popup$87">Popup</a>, <span>Point</span>&gt;</p>        </ul></details><details id="contentsRect$102" title="Property" ><summary><span><a href="#contentsRect$102">#</a></span>  <code><strong>contentsRect</strong></code>    </summary>  <a href="src/popup.ts#L30">src/popup.ts#L30</a>  <ul><p><span>Rect</span></p>        </ul></details><details id="context$105" title="Property" ><summary><span><a href="#context$105">#</a></span>  <code><strong>context</strong></code>    </summary>  <a href="src/popup.ts#L34">src/popup.ts#L34</a>  <ul><p><span>ContextClass</span>&lt;<a href="#Popup$87">Popup</a>&gt;</p>        </ul></details><details id="destExceedsViewport$114" title="Property" ><summary><span><a href="#destExceedsViewport$114">#</a></span>  <code><strong>destExceedsViewport</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>false</code></span>  </summary>  <a href="src/popup.ts#L45">src/popup.ts#L45</a>  <ul><p>boolean</p>        </ul></details><details id="destRect$103" title="Property" ><summary><span><a href="#destRect$103">#</a></span>  <code><strong>destRect</strong></code>    </summary>  <a href="src/popup.ts#L31">src/popup.ts#L31</a>  <ul><p><span>Rect</span></p>        </ul></details><details id="destWithinViewport$115" title="Property" ><summary><span><a href="#destWithinViewport$115">#</a></span>  <code><strong>destWithinViewport</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>false</code></span>  </summary>  <a href="src/popup.ts#L46">src/popup.ts#L46</a>  <ul><p>boolean</p>        </ul></details><details id="exceedsViewport$113" title="Property" ><summary><span><a href="#exceedsViewport$113">#</a></span>  <code><strong>exceedsViewport</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>false</code></span>  </summary>  <a href="src/popup.ts#L44">src/popup.ts#L44</a>  <ul><p>boolean</p>        </ul></details><details id="id$94" title="Property" ><summary><span><a href="#id$94">#</a></span>  <code><strong>id</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>...</code></span>  </summary>  <a href="src/popup.ts#L19">src/popup.ts#L19</a>  <ul><p>string</p>        </ul></details><details id="originalPlacement$100" title="Property" ><summary><span><a href="#originalPlacement$100">#</a></span>  <code><strong>originalPlacement</strong></code>    </summary>  <a href="src/popup.ts#L27">src/popup.ts#L27</a>  <ul><p><span>Placement</span></p>        </ul></details><details id="place$107" title="Property" ><summary><span><a href="#place$107">#</a></span>  <code><strong>place</strong></code>    </summary>  <a href="src/popup.ts#L40">src/popup.ts#L40</a>  <ul><p><details id="__type$108" title="Function" ><summary><span><a href="#__type$108">#</a></span>  <em>(placement)</em>    </summary>    <ul>    <p>    <details id="placement$110" title="Parameter" ><summary><span><a href="#placement$110">#</a></span>  <code><strong>placement</strong></code>    </summary>    <ul><p><span>Placement</span></p>        </ul></details>  <p><strong></strong><em>(placement)</em>  &nbsp;=&gt;  <ul><span>Rect</span></ul></p></p>    </ul></details></p>        </ul></details><details id="placement$99" title="Property" ><summary><span><a href="#placement$99">#</a></span>  <code><strong>placement</strong></code>    </summary>  <a href="src/popup.ts#L26">src/popup.ts#L26</a>  <ul><p><span>Placement</span></p>        </ul></details><details id="prevPos$98" title="Property" ><summary><span><a href="#prevPos$98">#</a></span>  <code><strong>prevPos</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>...</code></span>  </summary>  <a href="src/popup.ts#L24">src/popup.ts#L24</a>  <ul><p><span>Point</span></p>        </ul></details><details id="rect$96" title="Property" ><summary><span><a href="#rect$96">#</a></span>  <code><strong>rect</strong></code>    </summary>  <a href="src/popup.ts#L22">src/popup.ts#L22</a>  <ul><p><span>Rect</span></p>        </ul></details><details id="rectDest$97" title="Property" ><summary><span><a href="#rectDest$97">#</a></span>  <code><strong>rectDest</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>...</code></span>  </summary>  <a href="src/popup.ts#L23">src/popup.ts#L23</a>  <ul><p><span>Rect</span></p>        </ul></details><details id="scene$95" title="Property" ><summary><span><a href="#scene$95">#</a></span>  <code><strong>scene</strong></code>    </summary>  <a href="src/popup.ts#L20">src/popup.ts#L20</a>  <ul><p><a href="#PopupScene$1">PopupScene</a></p>        </ul></details><details id="viewMatrix$106" title="Property" ><summary><span><a href="#viewMatrix$106">#</a></span>  <code><strong>viewMatrix</strong></code>    </summary>  <a href="src/popup.ts#L36">src/popup.ts#L36</a>  <ul><p><span>Matrix</span></p>        </ul></details><details id="viewportIntersection$112" title="Property" ><summary><span><a href="#viewportIntersection$112">#</a></span>  <code><strong>viewportIntersection</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>Intersect.None</code></span>  </summary>  <a href="src/popup.ts#L43">src/popup.ts#L43</a>  <ul><p><span>Intersect</span></p>        </ul></details><details id="attach$118" title="Method" ><summary><span><a href="#attach$118">#</a></span>  <code><strong>attach</strong></code><em>(this)</em>    </summary>  <a href="src/popup.ts#L61">src/popup.ts#L61</a>  <ul>    <p>    <details id="this$120" title="Parameter" ><summary><span><a href="#this$120">#</a></span>  <code><strong>this</strong></code>    </summary>    <ul><p><a href="#Popup$87">Popup</a></p>        </ul></details>  <p><strong>attach</strong><em>(this)</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details><details id="create$121" title="Method" ><summary><span><a href="#create$121">#</a></span>  <code><strong>create</strong></code><em>(this)</em>    </summary>  <a href="src/popup.ts#L65">src/popup.ts#L65</a>  <ul>    <p>    <details id="this$123" title="Parameter" ><summary><span><a href="#this$123">#</a></span>  <code><strong>this</strong></code>    </summary>    <ul><p><a href="#Popup$87">Popup</a></p>        </ul></details>  <p><strong>create</strong><em>(this)</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details><details id="toJSON$116" title="Method" ><summary><span><a href="#toJSON$116">#</a></span>  <code><strong>toJSON</strong></code><em>()</em>    </summary>  <a href="src/popup.ts#L52">src/popup.ts#L52</a>  <ul>    <p>      <p><strong>toJSON</strong><em>()</em>  &nbsp;=&gt;  <ul><span>Pick</span>&lt;<a href="#Popup$87">Popup</a>, keyof     <a href="#Popup$87">Popup</a>&gt;</ul></p></p>    </ul></details><details id="create$88" title="Method" ><summary><span><a href="#create$88">#</a></span>  <code><strong>create</strong></code><em>(data)</em>    </summary>  <a href="src/popup.ts#L12">src/popup.ts#L12</a>  <ul>    <p>    <details id="data$90" title="Parameter" ><summary><span><a href="#data$90">#</a></span>  <code><strong>data</strong></code>    </summary>    <ul><p><span>Partial</span>&lt;<a href="#Popup$87">Popup</a>&gt;</p>        </ul></details>  <p><strong>create</strong><em>(data)</em>  &nbsp;=&gt;  <ul><a href="#Popup$87">Popup</a></ul></p></p>    </ul></details></p></ul></details>  <details id="PopupSceneWorker$124" title="Class" ><summary><span><a href="#PopupSceneWorker$124">#</a></span>  <code><strong>PopupSceneWorker</strong></code>    </summary>  <a href="src/popup-scene-worker.ts#L10">src/popup-scene-worker.ts#L10</a>  <ul>        <p>  <details id="constructor$125" title="Constructor" ><summary><span><a href="#constructor$125">#</a></span>  <code><strong>constructor</strong></code><em>()</em>    </summary>  <a href="src/popup-scene-worker.ts#L35">src/popup-scene-worker.ts#L35</a>  <ul>    <p>  <details id="new PopupSceneWorker$126" title="ConstructorSignature" ><summary><span><a href="#new PopupSceneWorker$126">#</a></span>  <code><strong>new PopupSceneWorker</strong></code><em>()</em>    </summary>    <ul><p><a href="#PopupSceneWorker$124">PopupSceneWorker</a></p>        </ul></details></p>    </ul></details><details id="$$133" title="Property" ><summary><span><a href="#$$133">#</a></span>  <code><strong>$</strong></code>    </summary>  <a href="src/popup-scene-worker.ts#L19">src/popup-scene-worker.ts#L19</a>  <ul><p><a href="#PopupSceneWorker$124">PopupSceneWorker</a> &amp; <span>ContextClass</span>&lt;<a href="#PopupSceneWorker$124">PopupSceneWorker</a>&gt; &amp; <span>__module</span> &amp; <span>__module</span></p>        </ul></details><details id="animate$160" title="Property" ><summary><span><a href="#animate$160">#</a></span>  <code><strong>animate</strong></code>    </summary>  <a href="src/popup-scene-worker.ts#L29">src/popup-scene-worker.ts#L29</a>  <ul><p><details id="__type$161" title="Function" ><summary><span><a href="#__type$161">#</a></span>  <em>()</em>    </summary>    <ul>    <p>      <p><strong></strong><em>()</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details></p>        </ul></details><details id="applyCollisions$139" title="Property" ><summary><span><a href="#applyCollisions$139">#</a></span>  <code><strong>applyCollisions</strong></code>    </summary>  <a href="src/popup-scene-worker.ts#L23">src/popup-scene-worker.ts#L23</a>  <ul><p><details id="__type$140" title="Function" ><summary><span><a href="#__type$140">#</a></span>  <em>(popups)</em>    </summary>    <ul>    <p>    <details id="popups$142" title="Parameter" ><summary><span><a href="#popups$142">#</a></span>  <code><strong>popups</strong></code>    </summary>    <ul><p><a href="#Popup$87">Popup</a>  []</p>        </ul></details>  <p><strong></strong><em>(popups)</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details></p>        </ul></details><details id="containViewport$147" title="Property" ><summary><span><a href="#containViewport$147">#</a></span>  <code><strong>containViewport</strong></code>    </summary>  <a href="src/popup-scene-worker.ts#L25">src/popup-scene-worker.ts#L25</a>  <ul><p><details id="__type$148" title="Function" ><summary><span><a href="#__type$148">#</a></span>  <em>(popups)</em>    </summary>    <ul>    <p>    <details id="popups$150" title="Parameter" ><summary><span><a href="#popups$150">#</a></span>  <code><strong>popups</strong></code>    </summary>    <ul><p><a href="#Popup$87">Popup</a>  []</p>        </ul></details>  <p><strong></strong><em>(popups)</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details></p>        </ul></details><details id="context$134" title="Property" ><summary><span><a href="#context$134">#</a></span>  <code><strong>context</strong></code>    </summary>  <a href="src/popup-scene-worker.ts#L20">src/popup-scene-worker.ts#L20</a>  <ul><p><span>ContextClass</span>&lt;<a href="#PopupSceneWorker$124">PopupSceneWorker</a>&gt;</p>        </ul></details><details id="examineBoundaries$143" title="Property" ><summary><span><a href="#examineBoundaries$143">#</a></span>  <code><strong>examineBoundaries</strong></code>    </summary>  <a href="src/popup-scene-worker.ts#L24">src/popup-scene-worker.ts#L24</a>  <ul><p><details id="__type$144" title="Function" ><summary><span><a href="#__type$144">#</a></span>  <em>(popups)</em>    </summary>    <ul>    <p>    <details id="popups$146" title="Parameter" ><summary><span><a href="#popups$146">#</a></span>  <code><strong>popups</strong></code>    </summary>    <ul><p><a href="#Popup$87">Popup</a>  []</p>        </ul></details>  <p><strong></strong><em>(popups)</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details></p>        </ul></details><details id="integrate$155" title="Property" ><summary><span><a href="#integrate$155">#</a></span>  <code><strong>integrate</strong></code>    </summary>  <a href="src/popup-scene-worker.ts#L28">src/popup-scene-worker.ts#L28</a>  <ul><p><details id="__type$156" title="Function" ><summary><span><a href="#__type$156">#</a></span>  <em>(popups, amount)</em>    </summary>    <ul>    <p>    <details id="popups$158" title="Parameter" ><summary><span><a href="#popups$158">#</a></span>  <code><strong>popups</strong></code>    </summary>    <ul><p><a href="#Popup$87">Popup</a>  []</p>        </ul></details><details id="amount$159" title="Parameter" ><summary><span><a href="#amount$159">#</a></span>  <code><strong>amount</strong></code>    </summary>    <ul><p>number</p>        </ul></details>  <p><strong></strong><em>(popups, amount)</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details></p>        </ul></details><details id="isMoving$163" title="Property" ><summary><span><a href="#isMoving$163">#</a></span>  <code><strong>isMoving</strong></code>    </summary>  <a href="src/popup-scene-worker.ts#L30">src/popup-scene-worker.ts#L30</a>  <ul><p><details id="__type$164" title="Function" ><summary><span><a href="#__type$164">#</a></span>  <em>(popups)</em>    </summary>    <ul>    <p>    <details id="popups$166" title="Parameter" ><summary><span><a href="#popups$166">#</a></span>  <code><strong>popups</strong></code>    </summary>    <ul><p><a href="#Popup$87">Popup</a>  []</p>        </ul></details>  <p><strong></strong><em>(popups)</em>  &nbsp;=&gt;  <ul>boolean</ul></p></p>    </ul></details></p>        </ul></details><details id="placePopup$167" title="Property" ><summary><span><a href="#placePopup$167">#</a></span>  <code><strong>placePopup</strong></code>    </summary>  <a href="src/popup-scene-worker.ts#L32">src/popup-scene-worker.ts#L32</a>  <ul><p><details id="__type$168" title="Function" ><summary><span><a href="#__type$168">#</a></span>  <em>(popup, popups)</em>    </summary>    <ul>    <p>    <details id="popup$170" title="Parameter" ><summary><span><a href="#popup$170">#</a></span>  <code><strong>popup</strong></code>    </summary>    <ul><p><a href="#Popup$87">Popup</a></p>        </ul></details><details id="popups$171" title="Parameter" ><summary><span><a href="#popups$171">#</a></span>  <code><strong>popups</strong></code>    </summary>    <ul><p><a href="#Popup$87">Popup</a>  []</p>        </ul></details>  <p><strong></strong><em>(popup, popups)</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details></p>        </ul></details><details id="placePopups$151" title="Property" ><summary><span><a href="#placePopups$151">#</a></span>  <code><strong>placePopups</strong></code>    </summary>  <a href="src/popup-scene-worker.ts#L26">src/popup-scene-worker.ts#L26</a>  <ul><p><details id="__type$152" title="Function" ><summary><span><a href="#__type$152">#</a></span>  <em>(popups)</em>    </summary>    <ul>    <p>    <details id="popups$154" title="Parameter" ><summary><span><a href="#popups$154">#</a></span>  <code><strong>popups</strong></code>    </summary>    <ul><p><a href="#Popup$87">Popup</a>  []</p>        </ul></details>  <p><strong></strong><em>(popups)</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details></p>        </ul></details><details id="popups$127" title="Property" ><summary><span><a href="#popups$127">#</a></span>  <code><strong>popups</strong></code>    </summary>  <a href="src/popup-scene-worker.ts#L11">src/popup-scene-worker.ts#L11</a>  <ul><p><span>SyncedSet</span>&lt;<a href="#Popup$87">Popup</a>, {<p>  <details id="pos$129" title="Property" ><summary><span><a href="#pos$129">#</a></span>  <code><strong>pos</strong></code>    </summary>  <a href="src/popup-scene-worker.ts#L12">src/popup-scene-worker.ts#L12</a>  <ul><p><span>Point</span></p>        </ul></details></p>}&gt;</p>        </ul></details><details id="remote$130" title="Property" ><summary><span><a href="#remote$130">#</a></span>  <code><strong>remote</strong></code>    </summary>  <a href="src/popup-scene-worker.ts#L14">src/popup-scene-worker.ts#L14</a>  <ul><p><span>MessagePort</span></p>        </ul></details><details id="solveCollisions$135" title="Property" ><summary><span><a href="#solveCollisions$135">#</a></span>  <code><strong>solveCollisions</strong></code>    </summary>  <a href="src/popup-scene-worker.ts#L22">src/popup-scene-worker.ts#L22</a>  <ul><p><details id="__type$136" title="Function" ><summary><span><a href="#__type$136">#</a></span>  <em>(popups)</em>    </summary>    <ul>    <p>    <details id="popups$138" title="Parameter" ><summary><span><a href="#popups$138">#</a></span>  <code><strong>popups</strong></code>    </summary>    <ul><p><a href="#Popup$87">Popup</a>  []</p>        </ul></details>  <p><strong></strong><em>(popups)</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details></p>        </ul></details><details id="touchesOther$172" title="Property" ><summary><span><a href="#touchesOther$172">#</a></span>  <code><strong>touchesOther</strong></code>    </summary>  <a href="src/popup-scene-worker.ts#L33">src/popup-scene-worker.ts#L33</a>  <ul><p><details id="__type$173" title="Function" ><summary><span><a href="#__type$173">#</a></span>  <em>(popup, popups)</em>    </summary>    <ul>    <p>    <details id="popup$175" title="Parameter" ><summary><span><a href="#popup$175">#</a></span>  <code><strong>popup</strong></code>    </summary>    <ul><p><a href="#Popup$87">Popup</a></p>        </ul></details><details id="popups$176" title="Parameter" ><summary><span><a href="#popups$176">#</a></span>  <code><strong>popups</strong></code>    </summary>    <ul><p><a href="#Popup$87">Popup</a>  []</p>        </ul></details>  <p><strong></strong><em>(popup, popups)</em>  &nbsp;=&gt;  <ul>boolean</ul></p></p>    </ul></details></p>        </ul></details><details id="viewMatrix$132" title="Property" ><summary><span><a href="#viewMatrix$132">#</a></span>  <code><strong>viewMatrix</strong></code>    </summary>  <a href="src/popup-scene-worker.ts#L17">src/popup-scene-worker.ts#L17</a>  <ul><p><span>Matrix</span></p>        </ul></details><details id="viewportRect$131" title="Property" ><summary><span><a href="#viewportRect$131">#</a></span>  <code><strong>viewportRect</strong></code>    </summary>  <a href="src/popup-scene-worker.ts#L16">src/popup-scene-worker.ts#L16</a>  <ul><p><span>Rect</span></p>        </ul></details><details id="create$177" title="Method" ><summary><span><a href="#create$177">#</a></span>  <code><strong>create</strong></code><em>(this)</em>    </summary>  <a href="src/popup-scene-worker.ts#L40">src/popup-scene-worker.ts#L40</a>  <ul>    <p>    <details id="this$179" title="Parameter" ><summary><span><a href="#this$179">#</a></span>  <code><strong>this</strong></code>    </summary>    <ul><p><a href="#PopupSceneWorker$124">PopupSceneWorker</a></p>        </ul></details>  <p><strong>create</strong><em>(this)</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details></p></ul></details><details id="PopupElement$48" title="Class" ><summary><span><a href="#PopupElement$48">#</a></span>  <code><strong>PopupElement</strong></code>    </summary>  <a href="src/x-popup.tsx#L75">src/x-popup.tsx#L75</a>  <ul>        <p>  <details id="constructor$49" title="Constructor" ><summary><span><a href="#constructor$49">#</a></span>  <code><strong>constructor</strong></code><em>()</em>    </summary>    <ul>    <p>  <details id="new PopupElement$50" title="ConstructorSignature" ><summary><span><a href="#new PopupElement$50">#</a></span>  <code><strong>new PopupElement</strong></code><em>()</em>    </summary>    <ul><p><a href="#PopupElement$48">PopupElement</a></p>        </ul></details></p>    </ul></details><details id="center$53" title="Property" ><summary><span><a href="#center$53">#</a></span>  <code><strong>center</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>false</code></span>  </summary>  <a href="src/x-popup.tsx#L78">src/x-popup.tsx#L78</a>  <ul><p>boolean</p>        </ul></details><details id="contents$59" title="Property" ><summary><span><a href="#contents$59">#</a></span>  <code><strong>contents</strong></code>    </summary>  <a href="src/x-popup.tsx#L85">src/x-popup.tsx#L85</a>  <ul><p><span>HTMLDivElement</span></p>        </ul></details><details id="contentsRect$60" title="Property" ><summary><span><a href="#contentsRect$60">#</a></span>  <code><strong>contentsRect</strong></code>    </summary>  <a href="src/x-popup.tsx#L86">src/x-popup.tsx#L86</a>  <ul><p><span>Rect</span></p>        </ul></details><details id="dest$61" title="Property" ><summary><span><a href="#dest$61">#</a></span>  <code><strong>dest</strong></code>    </summary>  <a href="src/x-popup.tsx#L88">src/x-popup.tsx#L88</a>  <ul><p><span>SurfaceItemElement</span></p>        </ul></details><details id="destRect$62" title="Property" ><summary><span><a href="#destRect$62">#</a></span>  <code><strong>destRect</strong></code>    </summary>  <a href="src/x-popup.tsx#L89">src/x-popup.tsx#L89</a>  <ul><p><span>Rect</span></p>        </ul></details><details id="hostMatrixString$67" title="Property" ><summary><span><a href="#hostMatrixString$67">#</a></span>  <code><strong>hostMatrixString</strong></code>    </summary>  <a href="src/x-popup.tsx#L97">src/x-popup.tsx#L97</a>  <ul><p>string</p>        </ul></details><details id="onmounted$84" title="Property" ><summary><span><a href="#onmounted$84">#</a></span>  <code><strong>onmounted</strong></code>    </summary>    <ul><p><span>EventHandler</span>&lt;<a href="#PopupElement$48">PopupElement</a>, <span>CustomEvent</span>&lt;any&gt;&gt;</p>        </ul></details><details id="onunmounted$85" title="Property" ><summary><span><a href="#onunmounted$85">#</a></span>  <code><strong>onunmounted</strong></code>    </summary>    <ul><p><span>EventHandler</span>&lt;<a href="#PopupElement$48">PopupElement</a>, <span>CustomEvent</span>&lt;any&gt;&gt;</p>        </ul></details><details id="placed$52" title="Property" ><summary><span><a href="#placed$52">#</a></span>  <code><strong>placed</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>false</code></span>  </summary>  <a href="src/x-popup.tsx#L77">src/x-popup.tsx#L77</a>  <ul><p>boolean</p>        </ul></details><details id="placement$51" title="Property" ><summary><span><a href="#placement$51">#</a></span>  <code><strong>placement</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>'n'</code></span>  </summary>  <a href="src/x-popup.tsx#L76">src/x-popup.tsx#L76</a>  <ul><p><span>Placement</span></p>        </ul></details><details id="popup$63" title="Property" ><summary><span><a href="#popup$63">#</a></span>  <code><strong>popup</strong></code>    </summary>  <a href="src/x-popup.tsx#L91">src/x-popup.tsx#L91</a>  <ul><p><a href="#Popup$87">Popup</a></p>        </ul></details><details id="rect$64" title="Property" ><summary><span><a href="#rect$64">#</a></span>  <code><strong>rect</strong></code>    </summary>  <a href="src/x-popup.tsx#L92">src/x-popup.tsx#L92</a>  <ul><p><span>Rect</span></p>        </ul></details><details id="rigid$54" title="Property" ><summary><span><a href="#rigid$54">#</a></span>  <code><strong>rigid</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>false</code></span>  </summary>  <a href="src/x-popup.tsx#L79">src/x-popup.tsx#L79</a>  <ul><p>boolean</p>        </ul></details><details id="scene$58" title="Property" ><summary><span><a href="#scene$58">#</a></span>  <code><strong>scene</strong></code>    </summary>  <a href="src/x-popup.tsx#L83">src/x-popup.tsx#L83</a>  <ul><p><a href="#PopupSceneLocal$18">PopupSceneLocal</a> | <a href="#PopupSceneWorker$124">PopupSceneWorker</a></p>        </ul></details><details id="setHostStyleTransform$68" title="Property" ><summary><span><a href="#setHostStyleTransform$68">#</a></span>  <code><strong>setHostStyleTransform</strong></code>    </summary>  <a href="src/x-popup.tsx#L98">src/x-popup.tsx#L98</a>  <ul><p><details id="__type$69" title="Function" ><summary><span><a href="#__type$69">#</a></span>  <em>(matrixString)</em>    </summary>    <ul>    <p>    <details id="matrixString$71" title="Parameter" ><summary><span><a href="#matrixString$71">#</a></span>  <code><strong>matrixString</strong></code>    </summary>    <ul><p>string</p>        </ul></details>  <p><strong></strong><em>(matrixString)</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details></p>        </ul></details><details id="surface$57" title="Property" ><summary><span><a href="#surface$57">#</a></span>  <code><strong>surface</strong></code>    </summary>  <a href="src/x-popup.tsx#L82">src/x-popup.tsx#L82</a>  <ul><p><span>SurfaceElement</span></p>        </ul></details><details id="transition$55" title="Property" ><summary><span><a href="#transition$55">#</a></span>  <code><strong>transition</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>SurfaceState.Idle</code></span>  </summary>  <a href="src/x-popup.tsx#L80">src/x-popup.tsx#L80</a>  <ul><p><span>ValuesOf</span>&lt;{}&gt;</p>        </ul></details><details id="viewMatrix$65" title="Property" ><summary><span><a href="#viewMatrix$65">#</a></span>  <code><strong>viewMatrix</strong></code>    </summary>  <a href="src/x-popup.tsx#L94">src/x-popup.tsx#L94</a>  <ul><p><span>Matrix</span></p>        </ul></details><details id="viewportRect$66" title="Property" ><summary><span><a href="#viewportRect$66">#</a></span>  <code><strong>viewportRect</strong></code>    </summary>  <a href="src/x-popup.tsx#L95">src/x-popup.tsx#L95</a>  <ul><p><span>Rect</span></p>        </ul></details><details id="mounted$72" title="Method" ><summary><span><a href="#mounted$72">#</a></span>  <code><strong>mounted</strong></code><em>($)</em>    </summary>  <a href="src/x-popup.tsx#L100">src/x-popup.tsx#L100</a>  <ul>    <p>    <details id="$$74" title="Parameter" ><summary><span><a href="#$$74">#</a></span>  <code><strong>$</strong></code>    </summary>    <ul><p><span>Context</span>&lt;<a href="#PopupElement$48">PopupElement</a> &amp; <span>JsxContext</span>&lt;<a href="#PopupElement$48">PopupElement</a>&gt; &amp; <span>Omit</span>&lt;{<p>    <details id="ctor$78" title="Parameter" ><summary><span><a href="#ctor$78">#</a></span>  <code><strong>ctor</strong></code>    </summary>    <ul><p><span>Class</span>&lt;<a href="#T$34">T</a>&gt;</p>        </ul></details>  <p><strong></strong>&lt;<span>T</span>&gt;<em>(ctor)</em>  &nbsp;=&gt;  <ul><span>CleanClass</span>&lt;<a href="#T$34">T</a>&gt;</ul></p>  <details id="ctx$82" title="Parameter" ><summary><span><a href="#ctx$82">#</a></span>  <code><strong>ctx</strong></code>    </summary>    <ul><p><a href="#T$38">T</a> | <span>Class</span>&lt;<a href="#T$38">T</a>&gt;</p>        </ul></details>  <p><strong></strong>&lt;<span>T</span>&gt;<em>(ctx)</em>  &nbsp;=&gt;  <ul><span>Wrapper</span>&lt;<a href="#T$38">T</a>&gt;</ul></p></p>} &amp; <span>__module</span> &amp; {}, <code>"transition"</code>&gt;&gt;</p>        </ul></details>  <p><strong>mounted</strong><em>($)</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details></p></ul></details><details id="PopupSceneLocal$18" title="Class" ><summary><span><a href="#PopupSceneLocal$18">#</a></span>  <code><strong>PopupSceneLocal</strong></code>    </summary>  <a href="src/popup-scene-local.ts#L19">src/popup-scene-local.ts#L19</a>  <ul>        <p>  <details id="constructor$19" title="Constructor" ><summary><span><a href="#constructor$19">#</a></span>  <code><strong>constructor</strong></code><em>(surface)</em>    </summary>  <a href="src/popup-scene-local.ts#L35">src/popup-scene-local.ts#L35</a>  <ul>    <p>  <details id="new PopupSceneLocal$20" title="ConstructorSignature" ><summary><span><a href="#new PopupSceneLocal$20">#</a></span>  <code><strong>new PopupSceneLocal</strong></code><em>()</em>    </summary>    <ul><p><a href="#PopupSceneLocal$18">PopupSceneLocal</a></p>      <p>  <details id="surface$21" title="Parameter" ><summary><span><a href="#surface$21">#</a></span>  <code><strong>surface</strong></code>    </summary>    <ul><p><span>SurfaceElement</span></p>        </ul></details></p>  </ul></details></p>    </ul></details><details id="$$31" title="Property" ><summary><span><a href="#$$31">#</a></span>  <code><strong>$</strong></code>    </summary>  <a href="src/popup-scene-local.ts#L32">src/popup-scene-local.ts#L32</a>  <ul><p><a href="#PopupSceneLocal$18">PopupSceneLocal</a> &amp; <span>ContextClass</span>&lt;<a href="#PopupSceneLocal$18">PopupSceneLocal</a>&gt; &amp; {<p>    <details id="ctor$35" title="Parameter" ><summary><span><a href="#ctor$35">#</a></span>  <code><strong>ctor</strong></code>    </summary>    <ul><p><span>Class</span>&lt;<a href="#T$34">T</a>&gt;</p>        </ul></details>  <p><strong></strong>&lt;<span>T</span>&gt;<em>(ctor)</em>  &nbsp;=&gt;  <ul><span>CleanClass</span>&lt;<a href="#T$34">T</a>&gt;</ul></p>  <details id="ctx$39" title="Parameter" ><summary><span><a href="#ctx$39">#</a></span>  <code><strong>ctx</strong></code>    </summary>    <ul><p><a href="#T$38">T</a> | <span>Class</span>&lt;<a href="#T$38">T</a>&gt;</p>        </ul></details>  <p><strong></strong>&lt;<span>T</span>&gt;<em>(ctx)</em>  &nbsp;=&gt;  <ul><span>Wrapper</span>&lt;<a href="#T$38">T</a>&gt;</ul></p></p>} &amp; <span>__module</span> &amp; {}</p>        </ul></details><details id="context$41" title="Property" ><summary><span><a href="#context$41">#</a></span>  <code><strong>context</strong></code>    </summary>  <a href="src/popup-scene-local.ts#L33">src/popup-scene-local.ts#L33</a>  <ul><p><span>ContextClass</span>&lt;<a href="#PopupSceneLocal$18">PopupSceneLocal</a>&gt;</p>        </ul></details><details id="popups$22" title="Property" ><summary><span><a href="#popups$22">#</a></span>  <code><strong>popups</strong></code>    </summary>  <a href="src/popup-scene-local.ts#L20">src/popup-scene-local.ts#L20</a>  <ul><p><span>SyncedSet</span>&lt;<a href="#Popup$87">Popup</a>, {<p>  <details id="center$26" title="Property" ><summary><span><a href="#center$26">#</a></span>  <code><strong>center</strong></code>    </summary>  <a href="src/popup-scene-local.ts#L23">src/popup-scene-local.ts#L23</a>  <ul><p>boolean</p>        </ul></details><details id="contentsRectSize$25" title="Property" ><summary><span><a href="#contentsRectSize$25">#</a></span>  <code><strong>contentsRectSize</strong></code>    </summary>  <a href="src/popup-scene-local.ts#L22">src/popup-scene-local.ts#L22</a>  <ul><p><span>Point</span></p>        </ul></details><details id="destRect$24" title="Property" ><summary><span><a href="#destRect$24">#</a></span>  <code><strong>destRect</strong></code>    </summary>  <a href="src/popup-scene-local.ts#L21">src/popup-scene-local.ts#L21</a>  <ul><p><span>Rect</span></p>        </ul></details><details id="originalPlacement$27" title="Property" ><summary><span><a href="#originalPlacement$27">#</a></span>  <code><strong>originalPlacement</strong></code>    </summary>  <a href="src/popup-scene-local.ts#L24">src/popup-scene-local.ts#L24</a>  <ul><p><span>Placement</span></p>        </ul></details></p>}&gt;</p>        </ul></details><details id="remote$28" title="Property" ><summary><span><a href="#remote$28">#</a></span>  <code><strong>remote</strong></code>    </summary>  <a href="src/popup-scene-local.ts#L26">src/popup-scene-local.ts#L26</a>  <ul><p><span>MessagePort</span></p>        </ul></details><details id="surface$42" title="Property" ><summary><span><a href="#surface$42">#</a></span>  <code><strong>surface</strong></code>    </summary>    <ul><p><span>SurfaceElement</span></p>        </ul></details><details id="viewMatrix$30" title="Property" ><summary><span><a href="#viewMatrix$30">#</a></span>  <code><strong>viewMatrix</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>...</code></span>  </summary>  <a href="src/popup-scene-local.ts#L29">src/popup-scene-local.ts#L29</a>  <ul><p><span>Matrix</span></p>        </ul></details><details id="viewportRect$29" title="Property" ><summary><span><a href="#viewportRect$29">#</a></span>  <code><strong>viewportRect</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>...</code></span>  </summary>  <a href="src/popup-scene-local.ts#L28">src/popup-scene-local.ts#L28</a>  <ul><p><span>Rect</span></p>        </ul></details><details id="create$45" title="Method" ><summary><span><a href="#create$45">#</a></span>  <code><strong>create</strong></code><em>(this)</em>    </summary>  <a href="src/popup-scene-local.ts#L44">src/popup-scene-local.ts#L44</a>  <ul>    <p>    <details id="this$47" title="Parameter" ><summary><span><a href="#this$47">#</a></span>  <code><strong>this</strong></code>    </summary>    <ul><p><a href="#PopupSceneLocal$18">PopupSceneLocal</a></p>        </ul></details>  <p><strong>create</strong><em>(this)</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details><details id="destroy$43" title="Method" ><summary><span><a href="#destroy$43">#</a></span>  <code><strong>destroy</strong></code><em>()</em>    </summary>  <a href="src/popup-scene-local.ts#L40">src/popup-scene-local.ts#L40</a>  <ul>    <p>      <p><strong>destroy</strong><em>()</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details></p></ul></details><details id="PopupScene$1" title="Interface" ><summary><span><a href="#PopupScene$1">#</a></span>  <code><strong>PopupScene</strong></code>    </summary>  <a href="src/popup-core.ts#L8">src/popup-core.ts#L8</a>  <ul>        <p>  <details id="popups$2" title="Property" ><summary><span><a href="#popups$2">#</a></span>  <code><strong>popups</strong></code>    </summary>  <a href="src/popup-core.ts#L9">src/popup-core.ts#L9</a>  <ul><p><span>SyncedSet</span>&lt;<a href="#Popup$87">Popup</a>, any&gt;</p>        </ul></details><details id="remote$3" title="Property" ><summary><span><a href="#remote$3">#</a></span>  <code><strong>remote</strong></code>    </summary>  <a href="src/popup-core.ts#L10">src/popup-core.ts#L10</a>  <ul><p><span>MessagePort</span></p>        </ul></details><details id="viewMatrix$5" title="Property" ><summary><span><a href="#viewMatrix$5">#</a></span>  <code><strong>viewMatrix</strong></code>    </summary>  <a href="src/popup-core.ts#L12">src/popup-core.ts#L12</a>  <ul><p><span>Matrix</span></p>        </ul></details><details id="viewportRect$4" title="Property" ><summary><span><a href="#viewportRect$4">#</a></span>  <code><strong>viewportRect</strong></code>    </summary>  <a href="src/popup-core.ts#L11">src/popup-core.ts#L11</a>  <ul><p><span>Rect</span></p>        </ul></details></p></ul></details><details id="core$6" title="Variable" ><summary><span><a href="#core$6">#</a></span>  <code><strong>core</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>...</code></span>  </summary>  <a href="src/popup-core.ts#L22">src/popup-core.ts#L22</a>  <ul><p>{<p>  <details id="deserialize$14" title="Property" ><summary><span><a href="#deserialize$14">#</a></span>  <code><strong>deserialize</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>...</code></span>  </summary>    <ul><p><details id="__type$15" title="Function" ><summary><span><a href="#__type$15">#</a></span>  <em>(data)</em>    </summary>    <ul>    <p>    <details id="data$17" title="Parameter" ><summary><span><a href="#data$17">#</a></span>  <code><strong>data</strong></code>    </summary>    <ul><p>any</p>        </ul></details>  <p><strong></strong><em>(data)</em>  &nbsp;=&gt;  <ul>any</ul></p></p>    </ul></details></p>        </ul></details><details id="pickFromLocal$8" title="Property" ><summary><span><a href="#pickFromLocal$8">#</a></span>  <code><strong>pickFromLocal</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>...</code></span>  </summary>    <ul><p>keyof     <a href="#Popup$87">Popup</a>  []</p>        </ul></details><details id="pickFromWorker$9" title="Property" ><summary><span><a href="#pickFromWorker$9">#</a></span>  <code><strong>pickFromWorker</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>...</code></span>  </summary>    <ul><p>keyof     <a href="#Popup$87">Popup</a>  []</p>        </ul></details><details id="serialize$10" title="Property" ><summary><span><a href="#serialize$10">#</a></span>  <code><strong>serialize</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>...</code></span>  </summary>    <ul><p><details id="__type$11" title="Function" ><summary><span><a href="#__type$11">#</a></span>  <em>(data)</em>    </summary>    <ul>    <p>    <details id="data$13" title="Parameter" ><summary><span><a href="#data$13">#</a></span>  <code><strong>data</strong></code>    </summary>    <ul><p>any</p>        </ul></details>  <p><strong></strong><em>(data)</em>  &nbsp;=&gt;  <ul>any</ul></p></p>    </ul></details></p>        </ul></details></p>}</p>        </ul></details></p>

## Credits

- [everyday-utils](https://npmjs.org/package/everyday-utils) by [stagas](https://github.com/stagas) &ndash; Everyday utilities
- [geometrik](https://npmjs.org/package/geometrik) by [stagas](https://github.com/stagas) &ndash; Geometry classes and utils.
- [json-objectify](https://npmjs.org/package/json-objectify) by [stagas](https://github.com/stagas) &ndash; Like JSON.stringify but without the stringify part.
- [relative-mouse](https://npmjs.org/package/relative-mouse) by [stagas](https://github.com/stagas) &ndash; Get mouse position relative to a DOM element.
- [serialize-whatever](https://npmjs.org/package/serialize-whatever) by [stagas](https://github.com/stagas) &ndash; Serialize and deserialize whatever.
- [sigl](https://npmjs.org/package/sigl) by [stagas](https://github.com/stagas) &ndash; Web framework
- [synced-set](https://npmjs.org/package/synced-set) by [stagas](https://github.com/stagas) &ndash; Synchronize a Set collection of objects across a wire.

## Contributing

[Fork](https://github.com/stagas/x-popup/fork) or [edit](https://github.dev/stagas/x-popup) and submit a PR.

All contributions are welcome!

## License

<a href="LICENSE">MIT</a> &copy; 2022 [stagas](https://github.com/stagas)
